{"ast":null,"code":"var _jsxFileName = \"/Users/allyn/Desktop/learning/udacity-fe/nd0191-c1-myreads/starter/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { getAll } from \"./BooksAPI\";\nimport Home from \"./Home\";\nimport Search from \"./Search\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHELVES = {\n  CURRENTLY_READING: \"currentlyReading\",\n  WANT_TO_READ: \"wantToRead\",\n  READ: \"read\"\n};\nconst storedBooks = window.localStorage.getItem('allBooks') && JSON.parse(window.localStorage.getItem('allBooks'));\nconst App = () => {\n  _s();\n  const [allBooks, setAllBooks] = useState(storedBooks || []);\n  const [currentlyReading, setCurrentlyReading] = useState([]);\n  const [wantToRead, setWantToRead] = useState([]);\n  const [read, setRead] = useState([]);\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  const changeBookStatus = (selectedBook, status) => {\n    const newBookInfo = allBooks.map(books => {\n      if (books.id === selectedBook.id) {\n        return {\n          ...selectedBook,\n          shelf: status\n        };\n      }\n      return books;\n    });\n    setAllBooks(newBookInfo);\n  };\n  useEffect(() => {\n    if (!allBooks.length) {\n      getAll().then(res => setAllBooks(res)).catch(err => console.error(err));\n    }\n  }, [allBooks]);\n  useEffect(() => {\n    const currentlyReadingBooks = allBooks.filter(book => book.shelf === SHELVES.CURRENTLY_READING);\n    setCurrentlyReading(currentlyReadingBooks);\n    const wantToReadBooks = allBooks.filter(book => book.shelf === SHELVES.WANT_TO_READ);\n    setWantToRead(wantToReadBooks);\n    const readBooks = allBooks.filter(book => book.shelf === SHELVES.READ);\n    setRead(readBooks);\n    window.localStorage.setItem('allBooks', JSON.stringify(allBooks));\n  }, [allBooks]);\n  console.log('allBooks', allBooks);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {\n          changeBookStatus: changeBookStatus,\n          currentlyReading: currentlyReading,\n          read: read,\n          wantToRead: wantToRead\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        element: /*#__PURE__*/_jsxDEV(Search, {\n          allBooks: allBooks,\n          changeBookStatus: changeBookStatus,\n          searchedBooks: searchedBooks,\n          setSearchedBooks: setSearchedBooks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"utr0D4cX3u5i5k7TdfOKFChixU4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Routes","Route","getAll","Home","Search","SHELVES","CURRENTLY_READING","WANT_TO_READ","READ","storedBooks","window","localStorage","getItem","JSON","parse","App","allBooks","setAllBooks","currentlyReading","setCurrentlyReading","wantToRead","setWantToRead","read","setRead","searchedBooks","setSearchedBooks","changeBookStatus","selectedBook","status","newBookInfo","map","books","id","shelf","length","then","res","catch","err","console","error","currentlyReadingBooks","filter","book","wantToReadBooks","readBooks","setItem","stringify","log"],"sources":["/Users/allyn/Desktop/learning/udacity-fe/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\n\nimport { getAll } from \"./BooksAPI\"\nimport Home from \"./Home\";\nimport Search from \"./Search\";\nimport \"./App.css\";\n\nconst SHELVES = {\n  CURRENTLY_READING: \"currentlyReading\",\n  WANT_TO_READ: \"wantToRead\",\n  READ: \"read\"\n}\n\nconst storedBooks = window.localStorage.getItem('allBooks') && JSON.parse(window.localStorage.getItem('allBooks'))\n\nconst App = () => {\n  const [ allBooks, setAllBooks ] = useState(storedBooks || [])\n  const [ currentlyReading, setCurrentlyReading ] = useState([])\n  const [ wantToRead, setWantToRead ] = useState([])\n  const [ read, setRead ] = useState([])\n  const [ searchedBooks, setSearchedBooks ] = useState([])\n\n  const changeBookStatus = (selectedBook, status) => {\n    const newBookInfo = allBooks.map((books) => {\n      if (books.id === selectedBook.id) {\n        return {\n          ...selectedBook,\n          shelf: status\n        }\n      }\n      return books\n    })\n    setAllBooks(newBookInfo)\n  }\n\n  useEffect(() => {\n    if (!allBooks.length) {\n      getAll()\n      .then((res) => setAllBooks(res))\n      .catch((err) => console.error(err))\n    }\n  }, [allBooks])\n\n  useEffect(() => {\n    const currentlyReadingBooks = allBooks.filter((book) => book.shelf === SHELVES.CURRENTLY_READING)\n    setCurrentlyReading(currentlyReadingBooks)\n\n    const wantToReadBooks = allBooks.filter((book) => book.shelf === SHELVES.WANT_TO_READ)\n    setWantToRead(wantToReadBooks)\n    \n    const readBooks = allBooks.filter((book) => book.shelf === SHELVES.READ)\n    setRead(readBooks)\n\n    window.localStorage.setItem('allBooks', JSON.stringify(allBooks))\n  }, [allBooks])\n\n  console.log('allBooks', allBooks)\n  \n  return (\n    <div className=\"app\">\n      <Routes>\n        <Route exact path=\"/\" element={<Home \n            changeBookStatus={changeBookStatus}\n            currentlyReading={currentlyReading}\n            read={read} \n            wantToRead={wantToRead}\n        />}\n        />\n        <Route path=\"/search\" element={<Search\n            allBooks={allBooks}\n            changeBookStatus={changeBookStatus}\n            searchedBooks={searchedBooks}\n            setSearchedBooks={setSearchedBooks}\n        />} \n        />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}